"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _multer=_interopRequireDefault(require("multer")),_path=_interopRequireDefault(require("path"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const maxSize=104857600,storage=_multer.default.diskStorage({destination:(e,t,l)=>{l(null,_path.default.resolve(process.cwd(),"./frontend/src/uploads"))},filename:(e,t,l)=>{l(null,Date.now()+"--"+_path.default.extname(t.originalname))}}),upload=(0,_multer.default)({storage:storage,fileFilter:(e,t,l)=>{if("image/png"!=t.mimetype&&"image/jpg"!=t.mimetype&&"image/jpeg"!=t.mimetype&&"video/mp4"!=t.mimetype)return l(null,!1),l(new Error("Only .png, .jpg, .jpeg, .mp3, .mp4 allowed"));l(null,!0)},limits:{fileSize:maxSize}});var _default=exports.default=upload;