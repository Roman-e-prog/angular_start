"use strict";var _testing=require("@angular/core/testing"),_singleBlog=require("./single-blog.component"),_core=require("@ng-icons/core"),_router=require("@angular/router"),_testing2=require("@ngrx/store/testing"),_blog=require("../../store/selectors/blog.selectors"),_ngxToastr=require("ngx-toastr"),_blog2=require("../../store/actions/blog.actions"),_common=require("@angular/common");const mockBlogData={id:1,blog_title:"Ein TestBlog",blog_content:"Lorem Ipsum ad Dolores",blog_theme:"TestThema",blog_author:"Roman",images:["test.jpg"]};describe("SingleBlogComponent",(()=>{let e,t,o,n,r;beforeEach((async()=>{const s={snapshot:{paramMap:{get:jasmine.createSpy().and.returnValue("1")}}};await _testing.TestBed.configureTestingModule({imports:[_singleBlog.SingleBlogComponent,_core.NgIconsModule],providers:[(0,_core.provideIcons)({}),(0,_ngxToastr.provideToastr)(),(0,_testing2.provideMockStore)({selectors:[{selector:_blog.selectBlogData,value:mockBlogData},{selector:_blog.selectBlogLoading,value:!1},{selector:_blog.selectBlogError,value:!1},{selector:_blog.selectBlogMessage,value:"Error Message"}]}),{provide:_router.ActivatedRoute,useValue:s}]}).compileComponents(),t=_testing.TestBed.createComponent(_singleBlog.SingleBlogComponent),e=t.componentInstance,o=_testing.TestBed.inject(_testing2.MockStore),n=_testing.TestBed.inject(_ngxToastr.ToastrService),r=_testing.TestBed.inject(_common.Location),spyOn(o,"dispatch"),t.detectChanges()})),it("should create",(()=>{expect(e).toBeTruthy()})),it("should dispatch the actions and correct selectors",(()=>{const t=parseInt(e.id);e.ngOnInit(),expect(o.dispatch).toHaveBeenCalledWith((0,_blog2.getBlog)({id:t}))})),it("should have all components and values",(async()=>{t.detectChanges(),await t.whenStable();const e=t.debugElement.nativeElement.querySelector(".title"),o=t.debugElement.nativeElement.querySelector(".author"),n=t.debugElement.nativeElement.querySelector(".desc"),r=t.debugElement.nativeElement.querySelector(".content"),s=t.debugElement.nativeElement.querySelector(".image");expect(e.textContent.trim()).toEqual("Ein TestBlog"),expect(o.textContent.trim()).toEqual("Von Roman"),expect(n.textContent.trim()).toEqual("TestThema"),expect(r.textContent.trim()).toEqual("Lorem Ipsum ad Dolores"),expect(s.src).toContain("test.jpg")})),it("should go back on button press",(()=>{const e=t.debugElement.nativeElement.querySelector(".mainButton"),o=spyOn(r,"back");e.click(),t.detectChanges(),expect(o).toHaveBeenCalled()}))}));