"use strict";var _testing=require("@angular/core/testing"),_forumThemeDashboard=require("./forum-theme-dashboard.component"),_testing2=require("@ngrx/store/testing"),_ngxToastr=require("ngx-toastr"),_core=require("@ng-icons/core"),_forumTheme=require("../../../store/selectors/forumTheme.selectors"),_forumtheme=require("../../../store/actions/forumtheme.actions"),_outline=require("@ng-icons/material-icons/outline");describe("ForumThemeDashboardComponent",(()=>{let e,t,o,r,n,m,l,u;beforeEach((async()=>{await _testing.TestBed.configureTestingModule({imports:[_forumThemeDashboard.ForumThemeDashboardComponent,_core.NgIconsModule],providers:[(0,_core.provideIcons)({matEditOutline:_outline.matEditOutline,matDeleteOutline:_outline.matDeleteOutline}),(0,_testing2.provideMockStore)(),(0,_ngxToastr.provideToastr)()]}).compileComponents(),t=_testing.TestBed.createComponent(_forumThemeDashboard.ForumThemeDashboardComponent),e=t.componentInstance,o=_testing.TestBed.inject(_testing2.MockStore),r=o.overrideSelector(_forumTheme.selectAllForumThemeData,[]),n=o.overrideSelector(_forumTheme.selectForumThemeLoading,!1),m=o.overrideSelector(_forumTheme.selectForumThemeError,!1),l=o.overrideSelector(_forumTheme.selectForumThemeMessage,""),u=_testing.TestBed.inject(_ngxToastr.ToastrService),t.detectChanges()})),it("should create",(()=>{expect(e).toBeTruthy()})),it("should have all its elements",(async()=>{r.setResult([{id:1,ressort:"HTML",title:"Lorem Ipsum",content:"Lorem Ipsum Ad Dolores"}]),o.refreshState(),t.detectChanges(),await t.whenStable();const e=t.debugElement.nativeElement.querySelector(".forumThemeTitle"),n=t.debugElement.nativeElement.querySelector(".content"),m=t.debugElement.nativeElement.querySelector(".forumThemeRessort"),l=t.debugElement.nativeElement.querySelector(".title"),u=t.debugElement.nativeElement.querySelector(".forumThemeForm"),s=t.debugElement.nativeElement.querySelector("#title"),a=t.debugElement.nativeElement.querySelector("#ressort"),c=t.debugElement.nativeElement.querySelector("#content"),i=t.debugElement.nativeElement.querySelector(".mainButton");expect(n).toBeTruthy(),expect(e).toBeTruthy(),expect(m).toBeTruthy(),expect(l).toBeTruthy(),expect(u).toBeTruthy(),expect(s).toBeTruthy(),expect(a).toBeTruthy(),expect(c).toBeTruthy(),expect(i).toBeTruthy(),expect(e.textContent.trim()).toEqual("Lorem Ipsum"),expect(m.textContent.trim()).toEqual("HTML"),expect(n.textContent.trim()).toEqual("Lorem Ipsum Ad Dolores"),expect(l.textContent.trim()).toEqual("Forumthema einpflegen")})),it("form should get values and send them",(()=>{const r=spyOn(o,"dispatch"),n=(t.debugElement.nativeElement.querySelector(".forumThemeForm"),t.debugElement.nativeElement.querySelector("#title")),m=t.debugElement.nativeElement.querySelector("#ressort"),l=t.debugElement.nativeElement.querySelector("#content"),u=t.debugElement.nativeElement.querySelector(".mainButton");e.forumThemeForm.controls.title.setValue("Lorem Ipsum"),e.forumThemeForm.controls.ressort.setValue("CSS"),e.forumThemeForm.controls.content.setValue("Testinhalt"),expect(n.value).toEqual("Lorem Ipsum"),expect(m.value).toEqual("CSS"),expect(l.value).toEqual("Testinhalt"),t.detectChanges(),u.click(),expect(r).toHaveBeenCalledWith((0,_forumtheme.createForumTheme)({forumThemeData:{title:"Lorem Ipsum",ressort:"CSS",content:"Testinhalt"}}))})),it("should open edit Form on click",(async()=>{const e=spyOn(o,"dispatch");r.setResult([{id:1,ressort:"HTML",title:"Lorem Ipsum",content:"Lorem Ipsum Ad Dolores"}]),o.refreshState(),t.detectChanges(),await t.whenStable();const n=t.debugElement.nativeElement.querySelector("#edit");expect(n).toBeTruthy(),n.click(),t.detectChanges(),await t.whenStable().then((()=>{const o=t.debugElement.nativeElement.querySelector(".title");expect(o.textContent.trim()).toEqual("Forumthema updaten");const r=t.debugElement.nativeElement.querySelector(".editForumThemeForm");expect(r).toBeTruthy();const n=t.debugElement.nativeElement.querySelector("#title"),m=t.debugElement.nativeElement.querySelector("#ressort"),l=t.debugElement.nativeElement.querySelector("#content");expect(n).toBeTruthy(),expect(m).toBeTruthy(),expect(l).toBeTruthy(),expect(n.value).toEqual("Lorem Ipsum"),expect(m.value).toEqual("HTML"),expect(l.value).toEqual("Lorem Ipsum Ad Dolores");t.debugElement.nativeElement.querySelector(".mainButton").click(),t.detectChanges(),expect(e).toHaveBeenCalledWith((0,_forumtheme.updateForumTheme)({id:1,forumThemeData:{ressort:"HTML",title:"Lorem Ipsum",content:"Lorem Ipsum Ad Dolores"}}))}))})),it("should delete on click",(async()=>{r.setResult([{id:1,ressort:"HTML",title:"Lorem Ipsum",content:"Lorem Ipsum Ad Dolores"}]),o.refreshState(),t.detectChanges(),await t.whenStable();const e=spyOn(o,"dispatch"),n=t.debugElement.nativeElement.querySelector("#delete");expect(n).toBeTruthy(),n.click(),expect(e).toHaveBeenCalledWith((0,_forumtheme.deleteForumTheme)({id:1}))}))}));