"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UebermichEffect=void 0;var _dec,_class,_core=require("@angular/core"),_effects=require("@ngrx/effects"),_environment=require("../../environments/environment"),_uebermich=require("../actions/uebermich.actions"),_rxjs=require("rxjs");let UebermichEffect=exports.UebermichEffect=(_dec=(0,_core.Injectable)())(_class=class{constructor(e,r,t){this.store=e,this.actions$=r,this.httpClient=t,this.api_url=`${_environment.environment.apiURL}api/uebermich/`,this.createUebermich$=(0,_effects.createEffect)((()=>this.actions$.pipe((0,_effects.ofType)(_uebermich.createUebermich),(0,_rxjs.mergeMap)((e=>this.httpClient.post(this.api_url,e.uebermichData).pipe((0,_rxjs.map)((e=>(this.store.dispatch((0,_uebermich.getAllUebermich)()),(0,_uebermich.createUebermichSuccess)({uebermichData:e})))),(0,_rxjs.catchError)((e=>(0,_rxjs.of)((0,_uebermich.createUebermichError)({error:e})))))))))),this.updateUebermich$=(0,_effects.createEffect)((()=>this.actions$.pipe((0,_effects.ofType)(_uebermich.updateUebermich),(0,_rxjs.mergeMap)((e=>this.httpClient.put(this.api_url+e.uebermichData.id,e.uebermichData).pipe((0,_rxjs.map)((e=>(this.store.dispatch((0,_uebermich.getAllUebermich)()),(0,_uebermich.updateUebermichSuccess)({uebermichData:e})))),(0,_rxjs.catchError)((e=>(0,_rxjs.of)((0,_uebermich.updateUebermichError)({error:e})))))))))),this.deleteUebermich$=(0,_effects.createEffect)((()=>this.actions$.pipe((0,_effects.ofType)(_uebermich.deleteUebermich),(0,_rxjs.mergeMap)((e=>this.httpClient.delete(this.api_url+e.id).pipe((0,_rxjs.map)((r=>(this.store.dispatch((0,_uebermich.getAllUebermich)()),(0,_uebermich.deleteUebermichSuccess)({id:e.id})))),(0,_rxjs.catchError)((e=>(0,_rxjs.of)((0,_uebermich.deleteUebermichError)({error:e})))))))))),this.getUebermich$=(0,_effects.createEffect)((()=>this.actions$.pipe((0,_effects.ofType)(_uebermich.getUebermich),(0,_rxjs.mergeMap)((e=>this.httpClient.get(this.api_url+"find/"+e.id).pipe((0,_rxjs.map)((e=>(0,_uebermich.getUebermichSuccess)({uebermichData:e}))),(0,_rxjs.catchError)((e=>(0,_rxjs.of)((0,_uebermich.getUebermichError)({error:e})))))))))),this.getAllUebermich$=(0,_effects.createEffect)((()=>this.actions$.pipe((0,_effects.ofType)(_uebermich.getAllUebermich),(0,_rxjs.mergeMap)((e=>this.httpClient.get(this.api_url+"find").pipe((0,_rxjs.map)((e=>(0,_uebermich.getAllUebermichSuccess)({uebermichData:e}))),(0,_rxjs.catchError)((e=>(0,_rxjs.of)((0,_uebermich.getAllUebermichError)({error:e}))))))))))}})||_class;