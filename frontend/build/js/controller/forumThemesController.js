"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateForumtheme=exports.getForumtheme=exports.getAllForumthemes=exports.deleteForumtheme=exports.createForumtheme=void 0;var _dbconnect=_interopRequireDefault(require("../db/dbconnect"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const createForumtheme=async(e,t)=>{const{ressort:o,title:s,content:r}=e.body;try{const e=await _dbconnect.default.query("INSERT INTO forumthemes (ressort, title, content, created_at, updated_at) VALUES ($1, $2, $3, $4, $5) RETURNING *",[o,s,r,new Date((new Date).toISOString()),new Date((new Date).toISOString())]);t.status(200).json(e.rows[0])}catch(e){t.status(403).json("Upload nicht möglich")}};exports.createForumtheme=createForumtheme;const updateForumtheme=async(e,t)=>{const{ressort:o,title:s,content:r}=e.body,n=e.params.id;try{const e=await _dbconnect.default.query("UPDATE forumthemes SET ressort = $1, title = $2, content = $3, updated_at = $4 WHERE id = $5",[o,s,r,new Date((new Date).toISOString()),n]);t.status(200).json(e.rows[0])}catch(e){t.status(404).json("Nicht gefunden")}};exports.updateForumtheme=updateForumtheme;const deleteForumtheme=async(e,t)=>{const o=e.params.id;try{await _dbconnect.default.query("DELETE FROM forumthemes WHERE id = $1",[o]),t.status(200).json(`Forumtheme mit der id ${o} wurde gelöscht`)}catch(e){t.status(404).json("Nicht gefunden")}};exports.deleteForumtheme=deleteForumtheme;const getForumtheme=async(e,t)=>{const o=e.params.id;try{const e=await _dbconnect.default.query("SELECT * FROM forumthemes WHERE id = $1",[o]);t.status(200).json(e.rows[0])}catch(e){t.status(404).json("Nicht gefunden")}};exports.getForumtheme=getForumtheme;const getAllForumthemes=async(e,t)=>{try{const e=await _dbconnect.default.query("SELECT * FROM forumthemes");t.status(200).json(e.rows)}catch(e){t.status(404).json("Nicht gefunden")}};exports.getAllForumthemes=getAllForumthemes;